{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Twimp } from '../shared/twimp/twimp.model';\nimport { Author } from '../shared/author/author.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/authentication.service\";\nimport * as i2 from \"../shared/twimp/twimp.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nfunction CreateTwimpComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" Un Twimp tiene que contener alg\\u00FAn texto \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateTwimpComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1, \" Un Twimp s\\u00F3lo puede contener 140 letras como m\\u00E1ximo \");\n    i0.ɵɵelementEnd();\n  }\n}\nclass CreateTwimpComponent {\n  constructor(authService, twimpService, router, fb) {\n    this.authService = authService;\n    this.twimpService = twimpService;\n    this.router = router;\n    this.fb = fb;\n  }\n  ngOnInit() {\n    this.newTwimpForm = this.fb.group({\n      content: ['', [Validators.required, Validators.maxLength(140)]]\n    });\n  }\n  createTwimp(form) {\n    this.twimpService.getTwimps().subscribe(response => {\n      let twimpDate = new Date().toLocaleDateString().replace(/\\//g, '-');\n      let author = new Author(this.authService.token.idAuthor);\n      let twimp = new Twimp(response.length.toString(), '', author, form.value.content, twimpDate);\n      this.twimpService.setTwimp(twimp).subscribe(response => this.router.navigate(['/dashboard']));\n    });\n  }\n}\nCreateTwimpComponent.ɵfac = function CreateTwimpComponent_Factory(t) {\n  return new (t || CreateTwimpComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.TwimpService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\nCreateTwimpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateTwimpComponent,\n  selectors: [[\"tweempus-create-twimp\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[1, \"main\", \"section_create_twimp\"], [1, \"create_twimp_box\", \"rubberBand\"], [1, \"create_twimp_form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"create_twimp_label\"], [\"class\", \"create_twimp_error\", 4, \"ngIf\"], [\"placeholder\", \"M\\u00E1ximo 140 caracteres\", \"formControlName\", \"content\", 1, \"create_twimp_textarea\"], [\"type\", \"submit\", 1, \"create_twimp_button\", 3, \"disabled\"], [1, \"create_twimp_error\"]],\n  template: function CreateTwimpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateTwimpComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.createTwimp(ctx.newTwimpForm);\n      });\n      i0.ɵɵelementStart(3, \"label\")(4, \"h3\", 3);\n      i0.ɵɵtext(5, \"Crea tu twimp:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(6, CreateTwimpComponent_div_6_Template, 2, 0, \"div\", 4);\n      i0.ɵɵtemplate(7, CreateTwimpComponent_div_7_Template, 2, 0, \"div\", 4);\n      i0.ɵɵelement(8, \"textarea\", 5);\n      i0.ɵɵelementStart(9, \"button\", 6);\n      i0.ɵɵtext(10, \"Publicar\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.newTwimpForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.newTwimpForm.get(\"content\").hasError(\"required\") && !ctx.newTwimpForm.get(\"content\").pristine);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.newTwimpForm.get(\"content\").hasError(\"maxlength\") && !ctx.newTwimpForm.get(\"content\").pristine);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.newTwimpForm.invalid);\n    }\n  },\n  dependencies: [i5.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\".create_twimp_box[_ngcontent-%COMP%] {\\r\\n    width: 90%;\\r\\n    margin: 1em auto;\\r\\n    background-color: white;\\r\\n    border-radius: 15px;\\r\\n    box-shadow: 0px 0px 8px 2px rgba(0, 0, 0, 0.35);\\r\\n    padding: 3em;\\r\\n    min-height: 300px;\\r\\n}\\r\\n\\r\\n.create_twimp_label[_ngcontent-%COMP%], .create_twimp_textarea[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin: 15px auto;\\r\\n    resize: vertical;\\r\\n}\\r\\n\\r\\n.create_twimp_label[_ngcontent-%COMP%] {\\r\\n    width: 80%;\\r\\n}\\r\\n\\r\\n.create_twimp_textarea[_ngcontent-%COMP%] {\\r\\n    height: 100px;\\r\\n    width: 75%;\\r\\n}\\r\\n\\r\\n.create_twimp_error[_ngcontent-%COMP%] {\\r\\n    font-size: 75%;\\r\\n    word-spacing: -0.4pt;\\r\\n    margin: 20px auto;\\r\\n    width: 80%;\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n.create_twimp_button[_ngcontent-%COMP%] {\\r\\n    width: 80%;\\r\\n    height: 50px;\\r\\n    background-color: #d94f5c;\\r\\n    margin: 30px auto 20px;\\r\\n    display: block;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    border-radius: 6px;\\r\\n    font-size: 110%;\\r\\n    box-shadow: 0px 0px 8px 2px rgba(0, 0, 0, 0.35);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.create_twimp_button[_ngcontent-%COMP%]:hover {\\r\\n    transition: .35s ease-in-out;\\r\\n    background-color: #993333;\\r\\n}\\r\\n\\r\\n.create_twimp_button[_ngcontent-%COMP%]:active {\\r\\n    transition: .35s ease-in-out;\\r\\n    background-color: #c64652;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3JlYXRlLXR3aW1wL2NyZWF0ZS10d2ltcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksVUFBVTtJQUNWLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLCtDQUErQztJQUMvQyxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsVUFBVTtBQUNkOztBQUVBO0lBQ0ksY0FBYztJQUNkLG9CQUFvQjtJQUNwQixpQkFBaUI7SUFDakIsVUFBVTtJQUNWLFVBQVU7QUFDZDs7QUFFQTtJQUNJLFVBQVU7SUFDVixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLHNCQUFzQjtJQUN0QixjQUFjO0lBQ2QsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLCtDQUErQztJQUMvQyxlQUFlO0FBQ25COztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLDRCQUE0QjtJQUM1Qix5QkFBeUI7QUFDN0IiLCJzb3VyY2VzQ29udGVudCI6WyIuY3JlYXRlX3R3aW1wX2JveCB7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWFyZ2luOiAxZW0gYXV0bztcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJveC1zaGFkb3c6IDBweCAwcHggOHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMzUpO1xyXG4gICAgcGFkZGluZzogM2VtO1xyXG4gICAgbWluLWhlaWdodDogMzAwcHg7XHJcbn1cclxuXHJcbi5jcmVhdGVfdHdpbXBfbGFiZWwsIC5jcmVhdGVfdHdpbXBfdGV4dGFyZWEge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW46IDE1cHggYXV0bztcclxuICAgIHJlc2l6ZTogdmVydGljYWw7XHJcbn1cclxuXHJcbi5jcmVhdGVfdHdpbXBfbGFiZWwge1xyXG4gICAgd2lkdGg6IDgwJTtcclxufVxyXG5cclxuLmNyZWF0ZV90d2ltcF90ZXh0YXJlYSB7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgd2lkdGg6IDc1JTtcclxufVxyXG5cclxuLmNyZWF0ZV90d2ltcF9lcnJvciB7XHJcbiAgICBmb250LXNpemU6IDc1JTtcclxuICAgIHdvcmQtc3BhY2luZzogLTAuNHB0O1xyXG4gICAgbWFyZ2luOiAyMHB4IGF1dG87XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuLmNyZWF0ZV90d2ltcF9idXR0b24ge1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIGhlaWdodDogNTBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkOTRmNWM7XHJcbiAgICBtYXJnaW46IDMwcHggYXV0byAyMHB4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbiAgICBmb250LXNpemU6IDExMCU7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDhweCAycHggcmdiYSgwLCAwLCAwLCAwLjM1KTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmNyZWF0ZV90d2ltcF9idXR0b246aG92ZXIge1xyXG4gICAgdHJhbnNpdGlvbjogLjM1cyBlYXNlLWluLW91dDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTMzMzM7XHJcbn1cclxuXHJcbi5jcmVhdGVfdHdpbXBfYnV0dG9uOmFjdGl2ZSB7XHJcbiAgICB0cmFuc2l0aW9uOiAuMzVzIGVhc2UtaW4tb3V0O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2M2NDY1MjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { CreateTwimpComponent };","map":{"version":3,"names":["Validators","Twimp","Author","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","CreateTwimpComponent","constructor","authService","twimpService","router","fb","ngOnInit","newTwimpForm","group","content","required","maxLength","createTwimp","form","getTwimps","subscribe","response","twimpDate","Date","toLocaleDateString","replace","author","token","idAuthor","twimp","length","toString","value","setTwimp","navigate","ɵɵdirectiveInject","i1","AuthenticationService","i2","TwimpService","i3","Router","i4","FormBuilder","selectors","decls","vars","consts","template","CreateTwimpComponent_Template","rf","ctx","ɵɵlistener","CreateTwimpComponent_Template_form_ngSubmit_2_listener","ɵɵtemplate","CreateTwimpComponent_div_6_Template","CreateTwimpComponent_div_7_Template","ɵɵelement","ɵɵadvance","ɵɵproperty","get","hasError","pristine","invalid"],"sources":["C:\\Users\\xjuli\\Escritorio\\Programacion\\Angular\\Tweempus\\src\\app\\create-twimp\\create-twimp.component.ts","C:\\Users\\xjuli\\Escritorio\\Programacion\\Angular\\Tweempus\\src\\app\\create-twimp\\create-twimp.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { TwimpService } from '../shared/twimp/twimp.service';\r\nimport { AuthenticationService } from '../core/authentication.service';\r\n\r\nimport { Twimp } from '../shared/twimp/twimp.model';\r\nimport { Author } from '../shared/author/author.model';\r\n\r\n@Component({\r\n  selector: 'tweempus-create-twimp',\r\n  templateUrl: './create-twimp.component.html',\r\n  styleUrls: ['./create-twimp.component.css']\r\n})\r\nexport class CreateTwimpComponent implements OnInit {\r\n  newTwimpForm!: FormGroup;\r\n\r\n  constructor(\r\n    private authService: AuthenticationService,\r\n    private twimpService: TwimpService,\r\n    private router: Router,\r\n    private fb: FormBuilder) { }\r\n\r\n  ngOnInit() {\r\n    this.newTwimpForm = this.fb.group({\r\n      content: ['', [Validators.required, Validators.maxLength(140)]],\r\n    });\r\n  }\r\n\r\n  createTwimp(form: any) {\r\n    this.twimpService.getTwimps().subscribe(response => {\r\n      let twimpDate: string = new Date().toLocaleDateString().replace(/\\//g, '-');\r\n      let author: Author = new Author(this.authService.token!.idAuthor);\r\n      let twimp: Twimp = new Twimp(response.length.toString(), '', author, form.value.content, twimpDate);\r\n      this.twimpService.setTwimp(twimp).subscribe(\r\n        response => this.router.navigate(['/dashboard'])\r\n      )\r\n    });\r\n  }\r\n}\r\n","<section class=\"main section_create_twimp\">\r\n\r\n\t<div class=\"create_twimp_box rubberBand\">\r\n\t\t<form class=\"create_twimp_form\" [formGroup]=\"newTwimpForm\" (ngSubmit)=\"createTwimp(newTwimpForm)\">\r\n\t\t\t<label><h3 class=\"create_twimp_label\">Crea tu twimp:</h3></label>\r\n\t\t\t<div class=\"create_twimp_error\" *ngIf=\"newTwimpForm.get('content')!.hasError('required') && !newTwimpForm.get('content')!.pristine\">\r\n\t\t\t\tUn Twimp tiene que contener algún texto\r\n\t\t\t</div>\r\n\t\t\t<div class=\"create_twimp_error\" *ngIf=\"newTwimpForm.get('content')!.hasError('maxlength') && !newTwimpForm.get('content')!.pristine\">\r\n\t\t\t\tUn Twimp sólo puede contener 140 letras como máximo\r\n\t\t\t</div>\r\n\t\t\t<textarea class=\"create_twimp_textarea\" placeholder=\"Máximo 140 caracteres\" formControlName=\"content\"></textarea>\r\n\t\t\t<button type=\"submit\" class=\"create_twimp_button\" [disabled]=\"newTwimpForm.invalid\">Publicar</button>\r\n\t\t</form>\r\n\t</div>\r\n\r\n</section>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}